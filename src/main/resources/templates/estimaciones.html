<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" xmlns:sd="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.datatables.net/v/bs4/dt-1.13.8/datatables.min.css" rel="stylesheet">


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
          crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />
    <title>Unlimited</title>
</head>
<body>
    <div class="container">
        <div class ="row">
            <h1>Estimaciones</h1>
        </div>
        <table class="table table-dark table-striped" id="estimacionTabla">
            <thead>
            <tr class="bg-dark text-white">
                <th class="col-1">Est</th>
                <th class="col-1">Placa</th>
                <th class="col-3">Asegurado</th>
                <th class="col-3">Estimado por</th>
                <th class="col-2">Fecha</th>
                <th class="col-2">Acciones</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="ob:${listado}">
                <td class="col-1" th:text=${ob.id}></td>
                <td class="col-1" th:text=${ob.placa}></td>
                <td class="col-3" th:text=${ob.asegurado}></td>
                <td class="col-3" th:text=${ob.estimadoPor}></td>
                <td class="col-2" th:text="${#dates.format(ob.fechaEvaluacion, 'dd-MM-yyyy')}"></td>
<!--                acciones -->
                <td class="col-2">
                    <a th:href="@{/principal/editarEstimacion(id=${ob.id})}" class="btn btn-warning">Editar
                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>

        <a th:href="@{/principal/crearEstimacion}" class="btn btn-success ">Agregar Estimacion <i class="fa fa-plus-square" aria-hidden="true"></i></a>

        <a th:href="@{/thymeleaf}" class="btn btn-primary">Regresar</a>

        <div class="card-footer bg-white text-success" th:if="${message!=null}">
            <span th:text="${message}"></span>
        </div>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/v/bs4/dt-1.13.8/datatables.min.js"></script>
    <script>
        $(document).ready(function(){
            $("#estimacionTabla").DataTable({
                order:[],
                aoColumnDefs:[
                { aTargets : [-1], bSortable: false }
            ]
            });
        })
    </script>
</body>
</html>